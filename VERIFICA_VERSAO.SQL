
SELECT owner, 
	   NVL(TO_CHAR(
	     EXTRACTVALUE(XMLTYPE
			(DBMS_XMLGEN.GETXML('SELECT VER_VERSAO C FROM '||owner||'.VERSAO_VER WHERE regexp_like(ver_versao,''8.2'') AND ROWNUM=1 ORDER BY VER_DATA DESC')),'ROWSET/ROW/C')
		),'<<Ñ Instalado>>') MANAGER,
		NVL(TO_CHAR(
	     EXTRACTVALUE(XMLTYPE
			(DBMS_XMLGEN.GETXML('SELECT VER_VERSAO C FROM '||owner||'.VERSAO_VER WHERE regexp_like(ver_versao,''EFD'') AND ROWNUM=1 ORDER BY VER_DATA DESC')),'ROWSET/ROW/C')
		),'<<Ñ Instalado>>')EFD,
		NVL(TO_CHAR(
	     EXTRACTVALUE(XMLTYPE
			(DBMS_XMLGEN.GETXML('SELECT VER_VERSAO C FROM '||owner||'.VERSAO_VER WHERE regexp_like(ver_versao,''ECF'') AND ROWNUM=1 ORDER BY VER_DATA DESC')),'ROWSET/ROW/C')
		),'<<Ñ Instalado>>')ECF,
		NVL(TO_CHAR(
	     EXTRACTVALUE(XMLTYPE
			(DBMS_XMLGEN.GETXML('SELECT VER_VERSAO C FROM '||owner||'.VERSAO_VER WHERE regexp_like(ver_versao,''NFE'') AND ROWNUM=1 ORDER BY VER_DATA DESC')),'ROWSET/ROW/C')
		),'<<Ñ Instalado>>') NFE,
		TO_CHAR(
	     EXTRACTVALUE(XMLTYPE
			(DBMS_XMLGEN.GETXML('SELECT VER_VERSAO C FROM '||owner||'.VERSAO_VER WHERE regexp_like(ver_versao,''ECD'') AND ROWNUM=1 ORDER BY VER_DATA DESC')),'ROWSET/ROW/C')
		) ECD
FROM ALL_TABLES WHERE TABLE_NAME='VERSAO_VER';
